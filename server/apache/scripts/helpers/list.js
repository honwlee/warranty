/**
 * warranty - 
 * @author 
 * @version v0.0.0
 * @link 
 * @license 
 */
define(["skylarkjs","server","./Partial","./formModal","./itemActions","toastr","jquery","handlebars"],function(e,t,r,i,a,n,o,l){function s(e){return e?e:"-"}function c(e,t,r){return['<a class="view" href="javascript:void(0)" title="查看">','<i class="glyphicon glyphicon-eye-open"></i>',"</a>",'<a class="remove" href="javascript:void(0)" title="删除">','<i class="glyphicon glyphicon-remove"></i>',"</a>",'<a class="edit" href="javascript:void(0)" title="编辑">','<i class="glyphicon glyphicon-edit"></i>',"</a>  "].join("")}function d(e,t){var r=[{field:"id",title:"标识符",visible:!1,align:"center",formatter:s},{field:"productRoll",title:"产品卷号",formatter:s},{field:"productionTime",title:"生产时间",sortable:!1,align:"center",formatter:s},{field:"producingPlace",title:"生产地",sortable:!1,align:"center",formatter:s},{field:"inspectors",title:"检验人员",sortable:!1,align:"center",formatter:s},{field:"inspectionGround",title:"检验地",sortable:!1,align:"center",formatter:s},{field:"model",title:"型号",sortable:!1,align:"center",formatter:s},{field:"salePlace",title:"销售地",sortable:!1,align:"center",formatter:s}];t&&r.push({field:"operate",title:"操作",align:"center",events:{"click .view":function(e,t,r,i){var n=o("#contentModal");a.productItem(n.find(".modal-body"),r),n.modal("show")},"click .edit":function(t,r,a,n){i.show("product",a,function(t){e.bootstrapTable("refresh",{url:"/api/products/index"})})},"click .remove":function(t,r,i,n){a.removeProduct(i,function(){e.bootstrapTable("refresh",{url:"/api/products/index"})})}},formatter:c}),e.empty().bootstrapTable({responseHandler:function(e){return e},uniqueId:"id",search:!0,sortName:"updatedAt",showRefresh:!0,sortOrder:"desc",url:"/api/products/index",method:"get",sidePagination:"server",pagination:!0,pageList:"[5, 10, 20, 50, 100, 200]",columns:r})}function f(e,t){var r=[{field:"id",title:"标识符",visible:!1,align:"center",formatter:s},{field:"company",title:"公司名称",formatter:s},{field:"address",title:"地址",sortable:!1,align:"center",formatter:s}];t&&r.push({field:"operate",title:"操作",align:"center",events:{"click .view":function(e,t,r,i){var n=o("#contentModal");a.dealerItem(n.find(".modal-body"),r),n.modal("show")},"click .edit":function(t,r,a,n){i.show("dealer",a,function(t){e.bootstrapTable("refresh",{url:"/api/dealers/index"})})},"click .remove":function(t,r,i,n){a.removeDealer(i,function(){e.bootstrapTable("refresh",{url:"/api/dealers/index"})})}},formatter:c}),e.empty().bootstrapTable({responseHandler:function(e){return e},uniqueId:"id",search:!0,sortName:"updatedAt",showRefresh:!0,sortOrder:"desc",url:"/api/dealers/index",method:"get",sidePagination:"server",pagination:!0,pageList:"[5, 10, 20, 50, 100, 200]",columns:r})}function u(e,t){var r=[{field:"id",title:"标识符",visible:!1,align:"center",formatter:s},{field:"customerName",title:"客户姓名",formatter:s},{field:"customerPhone",title:"客户电话",formatter:s},{field:"vehicleType",title:"装贴种类",formatter:s},{field:"vehicleMounted",title:"装贴车型",formatter:s},{field:"warrantyID",title:"质保 ID",sortable:!1,align:"center",formatter:s},{field:"licensePlate",title:"车牌号/车架号",sortable:!1,align:"center",formatter:s},{field:"constructionTechnician",title:"施工技师",sortable:!1,align:"center",formatter:s},{field:"constructionStore",title:"施工门店",sortable:!1,align:"center",formatter:s},{field:"constructionTime",title:"施工时间",sortable:!1,align:"center",formatter:s},{field:"warrantyTime",title:"质保时间",sortable:!1,align:"center",formatter:s}];t&&r.push({field:"operate",title:"操作",align:"center",events:{"click .view":function(e,t,r,i){var n=o("#contentModal");a.warrantyItem(n.find(".modal-body"),r),n.modal("show")},"click .edit":function(t,r,a,n){i.show("warranty",a,function(t){e.bootstrapTable("refresh",{url:"/api/warranties/index"})})},"click .remove":function(t,r,i,n){a.removeWarranty(i,function(){e.bootstrapTable("refresh",{url:"/api/warranties/index"})})}},formatter:c}),e.empty().bootstrapTable({responseHandler:function(e){return e},uniqueId:"id",sortName:"updatedAt",search:!0,sortOrder:"desc",showRefresh:!0,url:"/api/warranties/index",method:"get",sidePagination:"server",pagination:!0,pageList:"[5, 10, 20, 50, 100, 200]",columns:r})}e.langx;return{initTable:function(e,t,r){this[e](t,r)},product:function(e,t){return this.productInited?e.bootstrapTable("refresh"):(this.productInited=!0,d(e,t))},warranty:function(e,t){return this.warrantyInited?e.bootstrapTable("refresh"):(this.warrantyInited=!0,u(e,t))},dealer:function(e,t){return this.dealerInited?e.bootstrapTable("refresh"):(this.dealerInited=!0,f(e,t))}}});